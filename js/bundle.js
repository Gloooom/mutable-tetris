!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([/*!******************!*\
  !*** multi main ***!
  \******************/
function(module,exports,__webpack_require__){module.exports=__webpack_require__(/*! C:\Projects\simple-tetris\src\js\index.js */1)},/*!*************************!*\
  !*** ./src/js/index.js ***!
  \*************************/
function(module,exports,__webpack_require__){"use strict";__webpack_require__(/*! ./../styles/index.scss */2);var _engine=__webpack_require__(/*! ./engine */6),_tetris=__webpack_require__(/*! ./tetris */7);window.addEventListener("load",function(){var engine=new _engine.Engine(document.getElementById("glass"));new _tetris.Tetris(engine);engine.start()})},/*!*******************************!*\
  !*** ./src/styles/index.scss ***!
  \*******************************/
function(module,exports,__webpack_require__){var content=__webpack_require__(/*! !../../~/css-loader?sourceMap!../../~/sass-loader?sourceMap!./index.scss */3);"string"==typeof content&&(content=[[module.id,content,""]]);__webpack_require__(/*! ../../~/style-loader/addStyles.js */5)(content,{});content.locals&&(module.exports=content.locals)},/*!**********************************************************************************!*\
  !*** ./~/css-loader?sourceMap!./~/sass-loader?sourceMap!./src/styles/index.scss ***!
  \**********************************************************************************/
function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(/*! ../../~/css-loader/lib/css-base.js */4)(),exports.push([module.id,".center{margin:auto;width:300px}.container{display:flex;justify-content:center}#hint,#stats{width:150px;padding:10px}#stats{text-align:right}#overlay{transition:opacity 1s;position:absolute;top:0;bottom:0;left:0;right:0;background:hsla(0,0%,100%,.9);color:#000;font-size:50px;text-align:center;display:flex;justify-content:center;flex-direction:column;opacity:1}#overlay.hidden{opacity:0}canvas{border:2px solid #000}body{background:#ddd;font-family:Courier New}","",{version:3,sources:["C:/Projects/simple-tetris/src/styles/src\\styles\\index.scss"],names:[],mappings:"AAAA,QACE,YACA,WAAY,CACb,WAGC,aACA,sBAAuB,CACxB,aAGC,YACA,YAAa,CACd,OAGC,gBAAiB,CAClB,SAGC,sBACA,kBACA,MACA,SACA,OACA,QACA,8BACA,WACA,eACA,kBACA,aACA,uBACA,sBACA,SAAU,CAdZ,gBAiBI,SAAU,CACX,OAKD,qBAAuB,CACxB,KAGC,gBACA,uBAA0B,CAC3B",file:"index.scss",sourcesContent:['.center {\r\n  margin: auto;\r\n  width: 300px;\r\n}\r\n\r\n.container {\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n#stats, #hint {\r\n  width: 150px;\r\n  padding: 10px;\r\n}\r\n\r\n#stats {\r\n  text-align: right;\r\n}\r\n\r\n#overlay {\r\n  transition: opacity 1s;\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  color: black;\r\n  font-size: 50px;\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  opacity: 1;\r\n\r\n  &.hidden {\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n\r\ncanvas {\r\n  border: 2px solid black;\r\n}\r\n\r\nbody {\r\n  background: #DDD;\r\n  font-family: "Courier New";\r\n}\r\n'],sourceRoot:""}])},/*!**************************************!*\
  !*** ./~/css-loader/lib/css-base.js ***!
  \**************************************/
function(module,exports){"use strict";module.exports=function(){var list=[];return list.toString=function(){for(var result=[],i=0;i<this.length;i++){var item=this[i];item[2]?result.push("@media "+item[2]+"{"+item[1]+"}"):result.push(item[1])}return result.join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},/*!*************************************!*\
  !*** ./~/style-loader/addStyles.js ***!
  \*************************************/
function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement(),lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling):head.appendChild(styleElement):head.insertBefore(styleElement,head.firstChild),styleElementsInsertedAtTop.push(styleElement);else{if("bottom"!==options.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");head.appendChild(styleElement)}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);idx>=0&&styleElementsInsertedAtTop.splice(idx,1)}function createStyleElement(options){var styleElement=document.createElement("style");return styleElement.type="text/css",insertStyleElement(options,styleElement),styleElement}function createLinkElement(options){var linkElement=document.createElement("link");return linkElement.rel="stylesheet",insertStyleElement(options,linkElement),linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options)),update=applyToSingletonTag.bind(null,styleElement,styleIndex,!1),remove=applyToSingletonTag.bind(null,styleElement,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(styleElement=createLinkElement(options),update=updateLink.bind(null,styleElement),remove=function(){removeStyleElement(styleElement),styleElement.href&&URL.revokeObjectURL(styleElement.href)}):(styleElement=createStyleElement(options),update=applyToTag.bind(null,styleElement),remove=function(){removeStyleElement(styleElement)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet)styleElement.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=styleElement.childNodes;childNodes[index]&&styleElement.removeChild(childNodes[index]),childNodes.length?styleElement.insertBefore(cssNode,childNodes[index]):styleElement.appendChild(cssNode)}}function applyToTag(styleElement,obj){var css=obj.css,media=obj.media;if(media&&styleElement.setAttribute("media",media),styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css,sourceMap=obj.sourceMap;sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},memoize=function(fn){var memo;return function(){return"undefined"==typeof memo&&(memo=fn.apply(this,arguments)),memo}},isOldIE=memoize(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){options=options||{},"undefined"==typeof options.singleton&&(options.singleton=isOldIE()),"undefined"==typeof options.insertAt&&(options.insertAt="bottom");var styles=listToStyles(list);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()},/*!**************************!*\
  !*** ./src/js/engine.js ***!
  \**************************/
function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),GObj=function(){function GObj(color,x,y,width,height){_classCallCheck(this,GObj),this.color="#FFFFFF",this.x=0,this.y=0,this.width=0,this.height=0,this.color=color,this.x=x,this.y=y,this.width=width,this.height=height}return _createClass(GObj,[{key:"draw",value:function(context){context.fillStyle=this.color,context.fillRect(this.x,this.y,this.width,this.height)}}]),GObj}();exports.Engine=function(){function Engine(canvas){var _this=this;_classCallCheck(this,Engine),this.width=0,this.height=0,this.objectsForDelete=[],this.pressedKeys={},this.objects=[],this.frame=function(){},this.inAction=!1,this.keyEvents={},this.timeout=20,this.overlay=document.getElementById("overlay"),this.overlayText=document.getElementById("overlay-text"),this.frameFunction=function(){var delObjCount=_this.objectsForDelete.length,now=_this.getTime();if(_this.inAction){for(var key in _this.pressedKeys)_this.pressedKeys[key]&&_this.keyEvents[key]&&_this.keyEvents[key].press&&_this.keyEvents[key].press();for(;delObjCount--;)_this.objects.splice(_this.objects.indexOf(_this.objectsForDelete[delObjCount]),1),_this.objectsForDelete.pop();_this.frameDeltaTime=now-_this.startFrameTime,_this.startFrameTime=now,_this.clear(),_this.frame(_this.frameDeltaTime)||(_this.inAction=!1),_this.drawAll()}else clearInterval(_this.intervalID)},this.setCanvas(canvas);var checkKeyEvent=function(event,state){var key=_this.getKeyCode(event);_this.pressedKeys[key]="up"!==state,_this.keyEvents[key]&&_this.keyEvents[key][state]&&_this.keyEvents[key][state]()};document.addEventListener("keydown",function(event){return checkKeyEvent(event,"down")}),document.addEventListener("keyup",function(event){return checkKeyEvent(event,"up")})}return _createClass(Engine,[{key:"getTime",value:function(){var date=new Date;return date.getMilliseconds()+1e3*date.getSeconds()}},{key:"getKeyCode",value:function(event){var keycode=void 0;return event||(event=window.event),null!=event.keyCode?keycode=event.keyCode:null!=event.which&&(keycode=event.which),keycode}},{key:"setFrameFunc",value:function(fn){this.frame=fn}},{key:"setKeyEvent",value:function(key,event,fn){this.keyEvents.hasOwnProperty(key)||(this.keyEvents[key]={}),this.keyEvents[key][event]=fn}},{key:"setCanvas",value:function(canvas){this.canvas=canvas.getContext("2d"),this.width=canvas.width,this.height=canvas.height}},{key:"setTimeout",value:function(ms){this.timeout=ms}},{key:"getPressKeys",value:function(){return this.pressedKeys.slice()}},{key:"createObj",value:function(color,x,y,width,height){var obj=new GObj(color,x,y,width,height);return this.objects.push(obj),obj}},{key:"deleteObj",value:function(obj){this.objectsForDelete.push(obj)}},{key:"start",value:function(){this.inAction=!0,this.intervalID=setInterval(this.frameFunction,this.timeout)}},{key:"stop",value:function(){this.inAction=!1}},{key:"drawAll",value:function(){for(var i=this.objects.length;i--;)this.objects[i].draw(this.canvas)}},{key:"clear",value:function(){this.canvas.clearRect(0,0,this.width,this.height)}},{key:"showOverlay",value:function(text){this.overlay.classList.remove("hidden"),this.overlayText.innerHTML=text}},{key:"hideOverlay",value:function(){this.overlay.classList.add("hidden")}}]),Engine}()},/*!**************************!*\
  !*** ./src/js/tetris.js ***!
  \**************************/
function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tetris=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_field=__webpack_require__(/*! ./field */8),_figure=__webpack_require__(/*! ./figure */10),_figuresPresets=__webpack_require__(/*! ./figures-presets */14),_figuresPresets2=_interopRequireDefault(_figuresPresets),_utils=__webpack_require__(/*! ./utils */12),_stats=__webpack_require__(/*! ./stats */15),COLS_COUNT=10;exports.Tetris=function(){function Tetris(engine){var _this=this;_classCallCheck(this,Tetris),this.loss=!1,this.step=!1,this.score=0,this.deltaTimeFall=0,this.deltaTimeMove=0,this.field=new _field.Field(engine,COLS_COUNT),this.engine=engine,this.engine.setFrameFunc(function(delta){return _this.frameFunction(delta)}),this.stats=new _stats.Stats,this.addKeyEvents()}return _createClass(Tetris,[{key:"addKeyEvents",value:function(){var _this2=this;this.engine.setKeyEvent("83","press",function(){_this2.activeFigure.action("move",0,1)}),this.engine.setKeyEvent("65","press",function(){_this2.step||(_this2.activeFigure.action("move",-1,0),_this2.step=!0)}),this.engine.setKeyEvent("68","press",function(){_this2.step||(_this2.activeFigure.action("move",1,0),_this2.step=!0)}),this.engine.setKeyEvent("32","down",function(){_this2.activeFigure.action("rotate")}),this.engine.setKeyEvent("87","down",function(){_this2.step||(_this2.activeFigure.action("fall"),_this2.step=!0)}),this.engine.setKeyEvent("81","up",function(){_this2.loss||(_this2.engine.inAction?(_this2.engine.stop(),_this2.engine.showOverlay("PAUSE"),_this2.stats.stopTimer()):(_this2.engine.start(),_this2.engine.hideOverlay(),_this2.stats.startTimer()))}),this.engine.setKeyEvent("82","up",function(){_this2.reset(),_this2.step=!0})}},{key:"checkThrow",value:function(fig){var checkRows=[],isSet=!1,i=void 0,j=void 0,fullRowsCount=0;for(i=fig.squares.length;i--;){for(isSet=!1,j=checkRows.length;j--;)if(fig.squares[i].y===checkRows[j]){isSet=!0;break}isSet||checkRows.push(fig.squares[i].y)}for(checkRows.sort(),i=0;i<checkRows.length;i++){for(var rowIsFull=!0,x=this.field.getColsCount();x--;)if(checkRows[i]>=0&&checkRows[i]<this.field.getRowsCount()&&!this.field.getState(x,checkRows[i])){rowIsFull=!1;break}rowIsFull&&(fullRowsCount++,this.field.clearRow(checkRows[i]),this.field.downShift(checkRows[i]))}fullRowsCount>0&&this.addScore(Math.pow(2,1+2*fullRowsCount))}},{key:"addScore",value:function(score){this.score+=score,this.stats.setScore(this.score)}},{key:"newFig",value:function(){var _this3=this;this.activeFigure=new _figure.Figure(_figuresPresets2.default[(0,_utils.getRandomInt)(0,_figuresPresets2.default.length-1)],this.field,function(){return _this3.fail()}),this.activeFigure.setPos(5,0);for(var i=(0,_utils.getRandomInt)(0,3);i--;)this.activeFigure.action("rotate")}},{key:"fail",value:function(){this.loss=!0,this.engine.showOverlay("FAIL"),this.stats.stopTimer()}},{key:"frameFunction",value:function(delta){return!this.loss&&(this.activeFigure||this.newFig(),this.activeFigure.active||(this.checkThrow(this.activeFigure),this.newFig()),this.activeFigure.draw(),this.deltaTimeFall||(this.deltaTimeFall=0),this.deltaTimeMove||(this.deltaTimeMove=0),this.deltaTimeFall<0&&(this.deltaTimeFall=0,this.deltaTimeMove=0),this.deltaTimeFall+=delta,this.deltaTimeMove+=delta,this.deltaTimeFall>=400&&(this.deltaTimeFall=0,this.activeFigure.action("move",0,1)),this.deltaTimeMove>=200&&(this.deltaTimeMove=0,this.step=!1),!0)}},{key:"reset",value:function(){this.score=0,this.stats.reset(),this.activeFigure.fall(),this.newFig(),this.field.clear(),this.loss=!1,this.engine.start(),this.engine.hideOverlay()}}]),Tetris}()},/*!*************************!*\
  !*** ./src/js/field.js ***!
  \*************************/
function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Field=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_cell=__webpack_require__(/*! ./cell */9);exports.Field=function(){function Field(eng,colsCount){_classCallCheck(this,Field),this.colsCount=colsCount,this.cellSize=eng.width/this.colsCount,this.rowsCount=eng.height/this.cellSize;for(var row=[],cols=[],createCell=function(){return eng.createObj.apply(eng,arguments)},i=0;i<this.colsCount;i++){row=[];for(var j=0;j<this.rowsCount;j++)row.push(new _cell.Cell(i,j,this.cellSize,createCell));cols.push(row)}this.area=cols}return _createClass(Field,[{key:"getRowsCount",value:function(){return this.rowsCount}},{key:"getColsCount",value:function(){return this.colsCount}},{key:"get",value:function(x,y){return this.area[x][y]}},{key:"getState",value:function(x,y){return this.area[x][y].state}},{key:"getRawField",value:function(){return this.area}},{key:"clearRow",value:function(y){if(y>=0&&y<this.rowsCount)for(var x=this.colsCount;x--;)this.area[x][y].off()}},{key:"clear",value:function(){for(var y=this.rowsCount;y--;)for(var x=this.colsCount;x--;)this.area[x][y].clear()}},{key:"downShift",value:function(from_y){for(var y=from_y;y>0;y--)for(var x=this.colsCount;x--;)this.area[x][y].state=this.area[x][y-1].state,this.area[x][y].obj.color=this.area[x][y-1].obj.color,this.area[x][y-1].off()}}]),Field}()},/*!************************!*\
  !*** ./src/js/cell.js ***!
  \************************/
function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Cell=function(){function Cell(x,y,cellSize,creator){_classCallCheck(this,Cell),this.state=!1,this.obj=creator("#FFF",x*cellSize,y*cellSize,cellSize,cellSize)}return _createClass(Cell,[{key:"invert",value:function(){this.state=!this.state}},{key:"off",value:function(){this.color("#FFF")}},{key:"clear",value:function(){this.off(),this.state=!1}},{key:"color",value:function(_color){this.obj.color=_color}}]),Cell}();exports.Cell=Cell},/*!**************************!*\
  !*** ./src/js/figure.js ***!
  \**************************/
function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Figure=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_tinycolor=__webpack_require__(/*! tinycolor2 */11),_tinycolor2=_interopRequireDefault(_tinycolor),_utils=__webpack_require__(/*! ./utils */12),_square=__webpack_require__(/*! ./square */13);exports.Figure=function(){function Figure(positions,field,onOutOfField){_classCallCheck(this,Figure),this.active=!0,this.squares=[],this.actions=[],this.color=new _tinycolor2.default({h:(0,_utils.getRandomInt)(0,360),s:.7,v:.8}).toHexString(),this.pose=positions,this.sqCount=positions.length,this.field=field;for(var i=this.sqCount;i--;)this.squares.push(new _square.Square(this.pose[i][0],this.pose[i][1],this.color,field,onOutOfField))}return _createClass(Figure,[{key:"fix",value:function(){this.active=!1;for(var i=this.sqCount;i--;)this.squares[i].fix()}},{key:"action",value:function(name){var answer=void 0;if(this.active){this.clear();for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];answer=this[name].apply(this,args),this.draw()}return this.actions=[],answer}},{key:"clear",value:function(){for(var i=this.sqCount;i--;)this.squares[i].clear()}},{key:"draw",value:function(){this.clear();for(var i=this.sqCount;i--;)this.squares[i].draw()}},{key:"getNearestFreeCell",value:function(){var nearestCell=void 0,i=void 0,sq=void 0,maxNearestCell=this.field.getRowsCount();for(sq=0;sq<this.sqCount;sq++){for(nearestCell=0,i=this.squares[sq].y<0?0:this.squares[sq].y;i<this.field.getRowsCount()&&!this.field.getState(this.squares[sq].x,i);i++)nearestCell=i;maxNearestCell>nearestCell-this.squares[sq].y&&(maxNearestCell=nearestCell-this.squares[sq].y)}return maxNearestCell}},{key:"checkWay",value:function(x_,y_){for(var i=this.sqCount;i--;){var x=this.squares[i].x+x_,y=this.squares[i].y+y_;if(y<0)return!0;if(x>this.field.getColsCount()-1||x<0)return!1;if(y>this.field.getRowsCount()-1||this.field.getState(x,y))return!1}return!0}},{key:"hasOwn",value:function(x,y){for(var i=this.sqCount;i--;)if(this.squares[i].x===x&&this.squares[i].y===y)return!0;return!1}},{key:"rotatePose",value:function(dir){for(var x=0,y=0,i=this.sqCount;i--;)this.squares[i].x-=this.pose[i][0],this.squares[i].y-=this.pose[i][1],dir?(x=0-this.pose[i][1],y=this.pose[i][0]):(x=0-this.pose[i][1]*-1,y=this.pose[i][0]*-1),this.pose[i][0]=x,this.pose[i][1]=y,this.squares[i].x+=x,this.squares[i].y+=y}},{key:"rotate",value:function(){var delta_x=0,delta_y=0,delta_x_m=0,delta_y_m=0,delta_x_p=0,delta_y_p=0;this.rotatePose(!0);for(var i=this.sqCount;i--;)this.squares[i].x<0&&this.squares[i].x<delta_x?delta_x=this.squares[i].x:this.squares[i].x>=this.field.getColsCount()&&this.squares[i].x>delta_x&&(delta_x=this.squares[i].x),this.squares[i].y>this.field.getRowsCount()&&delta_y<this.squares[i].y&&(delta_y=this.squares[i].y);delta_x>0&&(delta_x-=this.field.getColsCount()-1),delta_y>0&&(delta_y-=this.field.getRowsCount()-1);for(var _i=this.sqCount;_i--;)this.squares[_i].x-=delta_x,this.squares[_i].y-=delta_y,this.squares[_i].x>=0&&this.squares[_i].x<this.field.getColsCount()&&this.squares[_i].y>=0&&this.squares[_i].y<this.field.getRowsCount()&&this.field.getState(this.squares[_i].x,this.squares[_i].y)&&(delta_x_m>this.pose[_i][0]&&(delta_x_m=this.pose[_i][0]),delta_y_m>this.pose[_i][1]&&(delta_y_m=this.pose[_i][1]),delta_x_p<this.pose[_i][0]&&(delta_x_p=this.pose[_i][0]),delta_y_p<this.pose[_i][1]&&(delta_y_p=this.pose[_i][1]));if(0!==delta_x_m!=(0!==delta_x_p))delta_x=0!==delta_x_m?delta_x_m:delta_x_p;else{if(0!==delta_x_m||0!==delta_x_p){for(var _i2=this.sqCount;_i2--;)this.squares[_i2].x+=delta_x,this.squares[_i2].y+=delta_y;return void this.rotatePose(!1)}delta_x=0}delta_y=0!==delta_y_m!=(0!==delta_y_p)?0!==delta_y_m?delta_y_m:delta_y_p:0;for(var _i3=this.sqCount;_i3--;)this.squares[_i3].x-=delta_x,this.squares[_i3].y-=delta_y}},{key:"setPos",value:function(x,y){for(var i=this.sqCount;i--;)this.squares[i].x=x+this.pose[i][0],this.squares[i].y=y+this.pose[i][1]}},{key:"move",value:function(x,y){if(this.checkWay(x,y)){for(var i=this.sqCount;i--;)this.squares[i].x+=x,this.squares[i].y+=y;return!0}if(0!==y)return this.fix(),!1}},{key:"fall",value:function(){this.move(0,this.getNearestFreeCell.call(this)),this.fix()}}]),Figure}()},/*!***********************************!*\
  !*** ./~/tinycolor2/tinycolor.js ***!
  \***********************************/
function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(Math){function tinycolor(color,opts){if(color=color?color:"",opts=opts||{},color instanceof tinycolor)return color;if(!(this instanceof tinycolor))return new tinycolor(color,opts);var rgb=inputToRGB(color);this._originalInput=color,this._r=rgb.r,this._g=rgb.g,this._b=rgb.b,this._a=rgb.a,this._roundA=mathRound(100*this._a)/100,this._format=opts.format||rgb.format,this._gradientType=opts.gradientType,this._r<1&&(this._r=mathRound(this._r)),this._g<1&&(this._g=mathRound(this._g)),this._b<1&&(this._b=mathRound(this._b)),this._ok=rgb.ok,this._tc_id=tinyCounter++}function inputToRGB(color){var rgb={r:0,g:0,b:0},a=1,s=null,v=null,l=null,ok=!1,format=!1;return"string"==typeof color&&(color=stringInputToObject(color)),"object"==("undefined"==typeof color?"undefined":_typeof(color))&&(isValidCSSUnit(color.r)&&isValidCSSUnit(color.g)&&isValidCSSUnit(color.b)?(rgb=rgbToRgb(color.r,color.g,color.b),ok=!0,format="%"===String(color.r).substr(-1)?"prgb":"rgb"):isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.v)?(s=convertToPercentage(color.s),v=convertToPercentage(color.v),rgb=hsvToRgb(color.h,s,v),ok=!0,format="hsv"):isValidCSSUnit(color.h)&&isValidCSSUnit(color.s)&&isValidCSSUnit(color.l)&&(s=convertToPercentage(color.s),l=convertToPercentage(color.l),rgb=hslToRgb(color.h,s,l),ok=!0,format="hsl"),color.hasOwnProperty("a")&&(a=color.a)),a=boundAlpha(a),{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a}}function rgbToRgb(r,g,b){return{r:255*bound01(r,255),g:255*bound01(g,255),b:255*bound01(b,255)}}function rgbToHsl(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,l:l}}function hslToRgb(h,s,l){function hue2rgb(p,q,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}var r,g,b;if(h=bound01(h,360),s=bound01(s,100),l=bound01(l,100),0===s)r=g=b=l;else{var q=l<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return{r:255*r,g:255*g,b:255*b}}function rgbToHsv(r,g,b){r=bound01(r,255),g=bound01(g,255),b=bound01(b,255);var h,s,max=mathMax(r,g,b),min=mathMin(r,g,b),v=max,d=max-min;if(s=0===max?0:d/max,max==min)h=0;else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:h,s:s,v:v}}function hsvToRgb(h,s,v){h=6*bound01(h,360),s=bound01(s,100),v=bound01(v,100);var i=Math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:255*r,g:255*g,b:255*b}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)?hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0):hex.join("")}function rgbaToHex(r,g,b,a,allow4Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16)),pad2(convertDecimalToHex(a))];return allow4Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)&&hex[3].charAt(0)==hex[3].charAt(1)?hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0)+hex[3].charAt(0):hex.join("")}function rgbaToArgbHex(r,g,b,a){var hex=[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return hex.join("")}function _desaturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s-=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function _saturate(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.s+=amount/100,hsl.s=clamp01(hsl.s),tinycolor(hsl)}function _greyscale(color){return tinycolor(color).desaturate(100)}function _lighten(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l+=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function _brighten(color,amount){amount=0===amount?0:amount||10;var rgb=tinycolor(color).toRgb();return rgb.r=mathMax(0,mathMin(255,rgb.r-mathRound(255*-(amount/100)))),rgb.g=mathMax(0,mathMin(255,rgb.g-mathRound(255*-(amount/100)))),rgb.b=mathMax(0,mathMin(255,rgb.b-mathRound(255*-(amount/100)))),tinycolor(rgb)}function _darken(color,amount){amount=0===amount?0:amount||10;var hsl=tinycolor(color).toHsl();return hsl.l-=amount/100,hsl.l=clamp01(hsl.l),tinycolor(hsl)}function _spin(color,amount){var hsl=tinycolor(color).toHsl(),hue=(hsl.h+amount)%360;return hsl.h=hue<0?360+hue:hue,tinycolor(hsl)}function _complement(color){var hsl=tinycolor(color).toHsl();return hsl.h=(hsl.h+180)%360,tinycolor(hsl)}function _triad(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})]}function _tetrad(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})]}function _splitcomplement(color){var hsl=tinycolor(color).toHsl(),h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]}function _analogous(color,results,slices){results=results||6,slices=slices||30;var hsl=tinycolor(color).toHsl(),part=360/slices,ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%360;--results;)hsl.h=(hsl.h+part)%360,ret.push(tinycolor(hsl));return ret}function _monochromatic(color,results){results=results||6;for(var hsv=tinycolor(color).toHsv(),h=hsv.h,s=hsv.s,v=hsv.v,ret=[],modification=1/results;results--;)ret.push(tinycolor({h:h,s:s,v:v})),v=(v+modification)%1;return ret}function flip(o){var flipped={};for(var i in o)o.hasOwnProperty(i)&&(flipped[o[i]]=i);return flipped}function boundAlpha(a){return a=parseFloat(a),(isNaN(a)||a<0||a>1)&&(a=1),a}function bound01(n,max){isOnePointZero(n)&&(n="100%");var processPercent=isPercentage(n);return n=mathMin(max,mathMax(0,parseFloat(n))),processPercent&&(n=parseInt(n*max,10)/100),Math.abs(n-max)<1e-6?1:n%max/parseFloat(max)}function clamp01(val){return mathMin(1,mathMax(0,val))}function parseIntFromHex(val){return parseInt(val,16)}function isOnePointZero(n){return"string"==typeof n&&n.indexOf(".")!=-1&&1===parseFloat(n)}function isPercentage(n){return"string"==typeof n&&n.indexOf("%")!=-1}function pad2(c){return 1==c.length?"0"+c:""+c}function convertToPercentage(n){return n<=1&&(n=100*n+"%"),n}function convertDecimalToHex(d){return Math.round(255*parseFloat(d)).toString(16)}function convertHexToDecimal(h){return parseIntFromHex(h)/255}function isValidCSSUnit(color){return!!matchers.CSS_UNIT.exec(color)}function stringInputToObject(color){color=color.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var named=!1;if(names[color])color=names[color],named=!0;else if("transparent"==color)return{r:0,g:0,b:0,a:0,format:"name"};var match;return(match=matchers.rgb.exec(color))?{r:match[1],g:match[2],b:match[3]}:(match=matchers.rgba.exec(color))?{r:match[1],g:match[2],b:match[3],a:match[4]}:(match=matchers.hsl.exec(color))?{h:match[1],s:match[2],l:match[3]}:(match=matchers.hsla.exec(color))?{h:match[1],s:match[2],l:match[3],a:match[4]}:(match=matchers.hsv.exec(color))?{h:match[1],s:match[2],v:match[3]}:(match=matchers.hsva.exec(color))?{h:match[1],s:match[2],v:match[3],a:match[4]}:(match=matchers.hex8.exec(color))?{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),a:convertHexToDecimal(match[4]),format:named?"name":"hex8"}:(match=matchers.hex6.exec(color))?{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"}:(match=matchers.hex4.exec(color))?{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),a:convertHexToDecimal(match[4]+""+match[4]),format:named?"name":"hex8"}:!!(match=matchers.hex3.exec(color))&&{r:parseIntFromHex(match[1]+""+match[1]),g:parseIntFromHex(match[2]+""+match[2]),b:parseIntFromHex(match[3]+""+match[3]),format:named?"name":"hex"}}function validateWCAG2Parms(parms){var level,size;return parms=parms||{level:"AA",size:"small"},level=(parms.level||"AA").toUpperCase(),size=(parms.size||"small").toLowerCase(),"AA"!==level&&"AAA"!==level&&(level="AA"),"small"!==size&&"large"!==size&&(size="small"),{level:level,size:size}}var trimLeft=/^\s+/,trimRight=/\s+$/,tinyCounter=0,mathRound=Math.round,mathMin=Math.min,mathMax=Math.max,mathRandom=Math.random;tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var rgb=this.toRgb();return(299*rgb.r+587*rgb.g+114*rgb.b)/1e3},getLuminance:function(){var RsRGB,GsRGB,BsRGB,R,G,B,rgb=this.toRgb();return RsRGB=rgb.r/255,GsRGB=rgb.g/255,BsRGB=rgb.b/255,R=RsRGB<=.03928?RsRGB/12.92:Math.pow((RsRGB+.055)/1.055,2.4),G=GsRGB<=.03928?GsRGB/12.92:Math.pow((GsRGB+.055)/1.055,2.4),B=BsRGB<=.03928?BsRGB/12.92:Math.pow((BsRGB+.055)/1.055,2.4),.2126*R+.7152*G+.0722*B},setAlpha:function(value){return this._a=boundAlpha(value),this._roundA=mathRound(100*this._a)/100,this},toHsv:function(){var hsv=rgbToHsv(this._r,this._g,this._b);return{h:360*hsv.h,s:hsv.s,v:hsv.v,a:this._a}},toHsvString:function(){var hsv=rgbToHsv(this._r,this._g,this._b),h=mathRound(360*hsv.h),s=mathRound(100*hsv.s),v=mathRound(100*hsv.v);return 1==this._a?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+this._roundA+")"},toHsl:function(){var hsl=rgbToHsl(this._r,this._g,this._b);return{h:360*hsl.h,s:hsl.s,l:hsl.l,a:this._a}},toHslString:function(){var hsl=rgbToHsl(this._r,this._g,this._b),h=mathRound(360*hsl.h),s=mathRound(100*hsl.s),l=mathRound(100*hsl.l);return 1==this._a?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+this._roundA+")"},toHex:function(allow3Char){return rgbToHex(this._r,this._g,this._b,allow3Char)},toHexString:function(allow3Char){return"#"+this.toHex(allow3Char)},toHex8:function(allow4Char){return rgbaToHex(this._r,this._g,this._b,this._a,allow4Char)},toHex8String:function(allow4Char){return"#"+this.toHex8(allow4Char)},toRgb:function(){return{r:mathRound(this._r),g:mathRound(this._g),b:mathRound(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+")":"rgba("+mathRound(this._r)+", "+mathRound(this._g)+", "+mathRound(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:mathRound(100*bound01(this._r,255))+"%",g:mathRound(100*bound01(this._g,255))+"%",b:mathRound(100*bound01(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%)":"rgba("+mathRound(100*bound01(this._r,255))+"%, "+mathRound(100*bound01(this._g,255))+"%, "+mathRound(100*bound01(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1)},toFilter:function(secondColor){var hex8String="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),secondHex8String=hex8String,gradientType=this._gradientType?"GradientType = 1, ":"";if(secondColor){var s=tinycolor(secondColor);secondHex8String="#"+rgbaToArgbHex(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")"},toString:function(format){var formatSet=!!format;format=format||this._format;var formattedString=!1,hasAlpha=this._a<1&&this._a>=0,needsAlphaFormat=!formatSet&&hasAlpha&&("hex"===format||"hex6"===format||"hex3"===format||"hex4"===format||"hex8"===format||"name"===format);return needsAlphaFormat?"name"===format&&0===this._a?this.toName():this.toRgbString():("rgb"===format&&(formattedString=this.toRgbString()),"prgb"===format&&(formattedString=this.toPercentageRgbString()),"hex"!==format&&"hex6"!==format||(formattedString=this.toHexString()),"hex3"===format&&(formattedString=this.toHexString(!0)),"hex4"===format&&(formattedString=this.toHex8String(!0)),"hex8"===format&&(formattedString=this.toHex8String()),"name"===format&&(formattedString=this.toName()),"hsl"===format&&(formattedString=this.toHslString()),"hsv"===format&&(formattedString=this.toHsvString()),formattedString||this.toHexString())},clone:function(){return tinycolor(this.toString())},_applyModification:function(fn,args){var color=fn.apply(null,[this].concat([].slice.call(args)));return this._r=color._r,this._g=color._g,this._b=color._b,this.setAlpha(color._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(fn,args){return fn.apply(null,[this].concat([].slice.call(args)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(_triad,arguments)},tetrad:function(){return this._applyCombination(_tetrad,arguments)}},tinycolor.fromRatio=function(color,opts){if("object"==("undefined"==typeof color?"undefined":_typeof(color))){var newColor={};for(var i in color)color.hasOwnProperty(i)&&("a"===i?newColor[i]=color[i]:newColor[i]=convertToPercentage(color[i]));color=newColor}return tinycolor(color,opts)},tinycolor.equals=function(color1,color2){return!(!color1||!color2)&&tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString()},tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()})},tinycolor.mix=function(color1,color2,amount){amount=0===amount?0:amount||50;var rgb1=tinycolor(color1).toRgb(),rgb2=tinycolor(color2).toRgb(),p=amount/100,rgba={r:(rgb2.r-rgb1.r)*p+rgb1.r,g:(rgb2.g-rgb1.g)*p+rgb1.g,b:(rgb2.b-rgb1.b)*p+rgb1.b,a:(rgb2.a-rgb1.a)*p+rgb1.a};return tinycolor(rgba)},tinycolor.readability=function(color1,color2){var c1=tinycolor(color1),c2=tinycolor(color2);return(Math.max(c1.getLuminance(),c2.getLuminance())+.05)/(Math.min(c1.getLuminance(),c2.getLuminance())+.05)},tinycolor.isReadable=function(color1,color2,wcag2){var wcag2Parms,out,readability=tinycolor.readability(color1,color2);switch(out=!1,wcag2Parms=validateWCAG2Parms(wcag2),wcag2Parms.level+wcag2Parms.size){case"AAsmall":case"AAAlarge":out=readability>=4.5;break;case"AAlarge":out=readability>=3;break;case"AAAsmall":out=readability>=7}return out},tinycolor.mostReadable=function(baseColor,colorList,args){var readability,includeFallbackColors,level,size,bestColor=null,bestScore=0;args=args||{},includeFallbackColors=args.includeFallbackColors,level=args.level,size=args.size;for(var i=0;i<colorList.length;i++)readability=tinycolor.readability(baseColor,colorList[i]),readability>bestScore&&(bestScore=readability,bestColor=tinycolor(colorList[i]));return tinycolor.isReadable(baseColor,bestColor,{level:level,size:size})||!includeFallbackColors?bestColor:(args.includeFallbackColors=!1,tinycolor.mostReadable(baseColor,["#fff","#000"],args))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names),matchers=function(){var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";return{CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=tinycolor:(__WEBPACK_AMD_DEFINE_RESULT__=function(){return tinycolor}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}(Math)},/*!*************************!*\
  !*** ./src/js/utils.js ***!
  \*************************/
function(module,exports){"use strict";function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getRandomInt=getRandomInt;exports.timezoneOffset=(new Date).getTimezoneOffset()},/*!**************************!*\
  !*** ./src/js/square.js ***!
  \**************************/
function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.Square=function(){function Square(x,y,color,field,onOutOfField){_classCallCheck(this,Square),this.x=x,this.y=y,this.color=color,this.field=field,this.onOutOfField=onOutOfField}return _createClass(Square,[{key:"draw",value:function(){this.y>=0&&this.y<this.field.getRowsCount()&&this.field.get(this.x,this.y).color(this.color)}},{key:"clear",value:function(){this.y>=0&&this.y<this.field.getRowsCount()&&this.field.get(this.x,this.y).off()}},{key:"fix",value:function(){this.y<0?this.onOutOfField():this.y<this.field.getRowsCount()&&(this.field.get(this.x,this.y).state=!0)}}]),Square}()},/*!***********************************!*\
  !*** ./src/js/figures-presets.js ***!
  \***********************************/
function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=[[[-1,0],[0,-1],[0,0],[-1,-1]],[[-1,0],[0,0],[0,-1],[1,-1]],[[-1,-1],[0,-1],[0,0],[1,0]],[[-1,-1],[-1,0],[0,0],[1,0]],[[-2,0],[-1,0],[0,0],[0,-1]],[[-1,0],[0,0],[1,0],[0,-1]],[[0,-1],[0,0],[0,1],[0,2]]]},/*!*************************!*\
  !*** ./src/js/stats.js ***!
  \*************************/
function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Stats=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_utils=__webpack_require__(/*! ./utils */12);exports.Stats=function(){function Stats(){_classCallCheck(this,Stats),this.timeInterval=null,this.time=0,this.startTime=Date.now(),this.score=document.getElementById("score"),this.timer=document.getElementById("timer"),this.setScore(0),this.startTimer()}return _createClass(Stats,[{key:"setScore",value:function(val){this.score.innerHTML="score - "+val}},{key:"setTime",value:function(val){var date=new Date(val);this.timer.innerHTML="time - "+(date.getMinutes()+60*date.getHours()+_utils.timezoneOffset)+":"+date.getSeconds()}},{key:"stopTimer",value:function(){clearInterval(this.timeInterval)}},{key:"startTimer",value:function(){var _this=this;this.startTime=Date.now(),this.setTime(0),this.timeInterval=setInterval(function(){_this.time=Date.now()-_this.startTime,_this.setTime(_this.time)},500)}},{key:"reset",value:function(){this.startTime=Date.now(),this.time=0,this.setTime(this.time)}}]),Stats}()}]);